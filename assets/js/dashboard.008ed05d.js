(window.webpackJsonp=window.webpackJsonp||[]).push([["dashboard"],{"01d0":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return l}));a("99af");var s=a("2b0e");function n(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/student/list");return s.a.httpfire.post(t,e)}function r(e,t){var a="".concat("http://channingkuo.synology.me:9001","/teacher/term/class/list/").concat(e,"/").concat(t);return s.a.httpfire.post(a)}function i(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/toggle/").concat(e);return s.a.httpfire.post(t)}function o(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/new");return s.a.httpfire.post(t,e)}function c(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/delete/").concat(e);return s.a.httpfire.post(t)}function l(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/save");return s.a.httpfire.post(t,e)}},1148:function(e,t,a){"use strict";var s=a("a691"),n=a("1d80");e.exports=function(e){var t=String(n(this)),a="",r=s(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(a+=t);return a}},"408a":function(e,t,a){var s=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=s(e))throw TypeError("Incorrect invocation");return+e}},4170:function(e,t,a){var s=a("5137");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,a("499e").default)("5a114bef",s,!0,{sourceMap:!1,shadowMode:!1})},5137:function(e,t,a){(t=a("24fb")(!1)).push([e.i,".k-ant-page-header .ant-page-header-heading-extra[data-v-b1452c78]{float:unset}.k-table .ant-table-pagination[data-v-b1452c78]{float:left!important}.k-table .ant-table-thead>tr>th[data-v-b1452c78]{background-color:#fff!important}.huahua-drawer .ant-select-selection__clear[data-v-b1452c78]{margin-top:-8px}.single[data-v-b1452c78]{background-color:#fbfafa}.clock-full-screen .ant-modal-centered[data-v-b1452c78]{overflow-y:hidden}.windows[data-v-b1452c78] ::-webkit-scrollbar{width:6px;height:6px}.windows[data-v-b1452c78] ::-webkit-scrollbar-track{width:10px;background:rgba(145,146,146,.1);border-radius:2em}.windows[data-v-b1452c78] ::-webkit-scrollbar-thumb{background-color:rgba(145,146,146,.3);background-clip:padding-box;min-height:28px;border-radius:2em}.windows[data-v-b1452c78] ::-webkit-scrollbar-corner{border-radius:2em}.windows[data-v-b1452c78] ::-webkit-scrollbar-thumb:hover{background-color:#919292}.size-change[data-v-b1452c78]{font-size:20px;z-index:10000}.size-change[data-v-b1452c78]:hover{color:#1890ff;transform:scale(1.3);transition:transform .5s}",""]),e.exports=t},"6d89":function(e,t,a){"use strict";a("4170")},a15b:function(e,t,a){"use strict";var s=a("23e7"),n=a("44ad"),r=a("fc6a"),i=a("a640"),o=[].join,c=n!=Object,l=i("join",",");s({target:"Array",proto:!0,forced:c||!l},{join:function(e){return o.call(r(this),void 0===e?",":e)}})},b680:function(e,t,a){"use strict";var s=a("23e7"),n=a("a691"),r=a("408a"),i=a("1148"),o=a("d039"),c=1..toFixed,l=Math.floor,u=function(e,t,a){return 0===t?a:t%2==1?u(e,t-1,a*e):u(e*e,t/2,a)},m=function(e,t,a){for(var s=-1,n=a;++s<6;)n+=t*e[s],e[s]=n%1e7,n=l(n/1e7)},d=function(e,t){for(var a=6,s=0;--a>=0;)s+=e[a],e[a]=l(s/t),s=s%t*1e7},h=function(e){for(var t=6,a="";--t>=0;)if(""!==a||0===t||0!==e[t]){var s=String(e[t]);a=""===a?s:a+i.call("0",7-s.length)+s}return a};s({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}))},{toFixed:function(e){var t,a,s,o,c=r(this),l=n(e),g=[0,0,0,0,0,0],p="",f="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(a=(t=function(e){for(var t=0,a=e;a>=4096;)t+=12,a/=4096;for(;a>=2;)t+=1,a/=2;return t}(c*u(2,69,1))-69)<0?c*u(2,-t,1):c/u(2,t,1),a*=4503599627370496,(t=52-t)>0){for(m(g,0,a),s=l;s>=7;)m(g,1e7,0),s-=7;for(m(g,u(10,s,1),0),s=t-1;s>=23;)d(g,1<<23),s-=23;d(g,1<<s),m(g,1,1),d(g,2),f=h(g)}else m(g,0,a),m(g,1<<-t,0),f=h(g)+i.call("0",l);return f=l>0?p+((o=f.length)<=l?"0."+i.call("0",l-o)+f:f.slice(0,o-l)+"."+f.slice(o-l)):p+f}})},b7b4:function(e,t,a){"use strict";a.r(t);var s=a("5530"),n=a("1da1"),r=(a("96cf"),a("99af"),a("b0c0"),a("a15b"),a("ac1f"),a("1276"),a("2f62")),i=a("313e"),o=a("2b0e");function c(e,t){var a="".concat("http://channingkuo.synology.me:9001","/score/chart/overview/").concat(t);return o.a.httpfire.post(a,e)}var l=a("01d0"),u=(a("b680"),{name:"tests-average",components:{},data:function(){return{term:"",className:"",classList:[],testNames:[],testName:[],chart:null}},created:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;this.term="".concat(t,"-").concat(a<9?"上":"下","半学期")},mounted:function(){var e=this;this.$nextTick(Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.chart=i.a(document.getElementById("tests-average")),e.chart.showLoading({text:"正在加载..."}),t.next=4,e.loadClassList(e.term);case 4:return a=t.sent,e.classList=a,a.length>0?e.className=a[0].cea_class_name:e.className="该学期暂无班级",t.next=9,e.loadOverviewData(e.term,e.className);case 9:return s=t.sent,e.testNames=s.testNames,e.testNames.length>0?e.testName=[e.testNames[0]]:e.testName=["暂无考试内容"],t.next=14,e.loadTestsAverageStudent(e.term,e.className,e.testName);case 14:n=t.sent,e.setChartOption(n);case 16:case"end":return t.stop()}}),t)}))))},methods:{loadClassList:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.b)(t.userInfo.ceaTeacherId,e);case 2:return s=a.sent,a.abrupt("return",s);case 4:case"end":return a.stop()}}),a)})))()},loadOverviewData:function(e,t){var a=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={term:e,className:t,kind:"数学"},s.next=3,c(n,a.userInfo.ceaTeacherId);case 3:return r=s.sent,s.abrupt("return",r);case 5:case"end":return s.stop()}}),s)})))()},loadTestsAverageStudent:function(e,t,a){var s=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,i,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={term:e,className:t,kind:"数学",testNames:a},n.next=3,u=r,m=s.userInfo.ceaTeacherId,d=void 0,d="".concat("http://channingkuo.synology.me:9001","/score/chart/tests/average/").concat(m),o.a.httpfire.post(d,u);case 3:for(i=n.sent,c=0;c<i.avgList.length;c++)l=i.avgList[c],i.avgList[c]=l.toFixed(2);return n.abrupt("return",i);case 6:case"end":return n.stop()}var u,m,d}),n)})))()},termChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.chart.showLoading({text:"正在加载..."}),t.next=3,e.loadClassList(e.term);case 3:return a=t.sent,e.classList=a,a.length>0?e.className=a[0].cea_class_name:e.className="该学期暂无班级",t.next=8,e.loadOverviewData(e.term,e.className);case 8:return s=t.sent,e.testNames=s.testNames,e.testNames.length>0?e.testName=[e.testNames[0]]:e.testName=["暂无考试内容"],t.next=13,e.loadTestsAverageStudent(e.term,e.className,e.testName);case 13:n=t.sent,(r=e.chart.getOption()).series[0].data=n.avgList,r.xAxis[0].data=n.studentList,e.chart.hideLoading(),e.chart.setOption(r);case 19:case"end":return t.stop()}}),t)})))()},classChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.chart.showLoading({text:"正在加载..."}),t.next=3,e.loadOverviewData(e.term,e.className);case 3:return a=t.sent,e.testNames=a.testNames,e.testNames.length>0?e.testName=[e.testNames[0]]:e.testName=["暂无考试内容"],t.next=8,e.loadTestsAverageStudent(e.term,e.className,e.testName);case 8:s=t.sent,(n=e.chart.getOption()).series[0].data=s.avgList,n.xAxis[0].data=s.studentList,e.chart.hideLoading(),e.chart.setOption(n);case 14:case"end":return t.stop()}}),t)})))()},testNameChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.chart.showLoading({text:"正在加载..."}),t.next=3,e.loadTestsAverageStudent(e.term,e.className,e.testName);case 3:a=t.sent,(s=e.chart.getOption()).series[0].data=a.avgList,s.xAxis[0].data=a.studentList,e.chart.hideLoading(),e.chart.setOption(s);case 9:case"end":return t.stop()}}),t)})))()},setChartOption:function(e){this.chart.config={rotate:90,align:"left",verticalAlign:"middle",position:"insideBottom",distance:15};var t={title:{text:"平均成绩"},tooltip:{trigger:"axis",position:function(e,t,a,s,n){return{left:e[0]+50,top:"10%"}},axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",zoomLock:!1,orient:"vertical",right:60,start:0,end:100,xAxisIndex:0}],legend:{data:[]},toolbox:{show:!0,showTitle:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},axisLabel:{formatter:function(e,t){return e.split("").join("\n")}},data:e.studentList}],yAxis:[{type:"value"}],series:[{name:"平均成绩",type:"bar",barGap:0,label:{show:!0,position:"insideBottom",distance:15,align:"left",verticalAlign:"middle",rotate:90,formatter:"{c}",fontSize:16,rich:{name:{}}},emphasis:{focus:"series"},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},data:e.avgList}]};this.chart.hideLoading(),this.chart.setOption(t,!0)},onSort:function(){var e=this.chart.getOption();e.series[0].realtimeSort=!0,this.chart.setOption(e)}},computed:Object(s.a)({},Object(r.b)(["userInfo","termOptions"]))}),m=a("2877"),d=Object(m.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-full"},[a("div",{staticClass:"h-14 pb-2 flex justify-start items-center"},[a("span",{staticClass:"pl-2"},[e._v("学期：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.termChange},model:{value:e.term,callback:function(t){e.term=t},expression:"term"}},[e._l(e.termOptions,(function(t){return[a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("班级：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.classChange},model:{value:e.className,callback:function(t){e.className=t},expression:"className"}},[e._l(e.classList,(function(t){return[a("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("测试：")]),a("a-select",{staticStyle:{width:"calc(100% - 600px)"},attrs:{mode:"multiple",placeholder:"请选择测试内容"},on:{change:e.testNameChange},model:{value:e.testName,callback:function(t){e.testName=t},expression:"testName"}},[e._l(e.testNames,(function(t){return[a("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])]}))],2),a("a-tooltip",{attrs:{placement:"top",title:"由高到低排序"}},[a("a-icon",{staticClass:"size-change m-5",attrs:{type:"sort-ascending"},on:{click:e.onSort}})],1)],1),a("div",{staticClass:"w-full h-96",attrs:{id:"tests-average"}})])}),[],!1,null,"73ddb0ca",null).exports,h={name:"class-compare",components:{},data:function(){return{term:"",classNameLeft:"",classNameRight:"该学期暂无其他班级",classList:[],testNames:[],testNameLeft:"",testNamesRight:[],testNameRight:"",chart:null}},created:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;this.term="".concat(t,"-").concat(a<9?"上":"下","半学期")},mounted:function(){var e=this;this.$nextTick(Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.chart=i.a(document.getElementById("class-compare")),e.chart.showLoading({text:"正在加载..."}),t.next=4,e.loadClassList(e.term);case 4:return a=t.sent,e.classList=a,a.length>0?(e.classNameLeft=a[0].cea_class_name,a.length>1&&(e.classNameRight=a[1].cea_class_name)):e.classNameLeft="该学期暂无班级",t.next=9,e.loadOverviewData(e.term,e.classNameLeft);case 9:if(s=t.sent,e.testNames=s.testNames,e.testNames.length>0?e.testNameLeft=e.testNames[0]:e.testNameLeft="暂无考试内容","该学期暂无其他班级"===e.classNameRight){t.next=18;break}return t.next=15,e.loadOverviewData(e.term,e.classNameRight);case 15:n=t.sent,e.testNamesRight=n.testNames,e.testNamesRight.length>0?e.testNameRight=e.testNamesRight[0]:e.testNameRight="暂无考试内容";case 18:return t.next=20,e.loadData(e.term,e.className,e.testName);case 20:r=t.sent,e.setChartOption(r);case 22:case"end":return t.stop()}}),t)}))))},methods:{loadClassList:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.b)(t.userInfo.ceaTeacherId,e);case 2:return s=a.sent,a.abrupt("return",s);case 4:case"end":return a.stop()}}),a)})))()},loadOverviewData:function(e,t){var a=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={term:e,className:t,kind:"数学"},s.next=3,c(n,a.userInfo.ceaTeacherId);case 3:return r=s.sent,s.abrupt("return",r);case 5:case"end":return s.stop()}}),s)})))()},loadData:function(e,t,a){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},termChange:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},classChangeLeft:function(){},classChangeRight:function(){},testNameChangeLeft:function(){},testNameChangeRight:function(){},setChartOption:function(e){var t={title:{text:"班级比较"},tooltip:{position:function(e,t,a,s,n){return{left:e[0]+50,top:"10%"}},axisPointer:{type:"shadow"}},radar:[{indicator:[{text:"100分段"},{text:"90分段"},{text:"80分段"},{text:"70分段"},{text:"不及格"}],radius:120,startAngle:90,splitNumber:4,name:{color:"#fff",backgroundColor:"#666",borderRadius:3,padding:[3,5]}}],series:[{name:"班级比较",type:"radar",emphasis:{lineStyle:{width:4}},data:[{value:[20,18,10,5,9],name:this.classNameLeft,areaStyle:{color:"rgb(25, 228, 152)"},label:{show:!0,color:"blue",offset:[0,6],formatter:function(e){return e.value+"个"}}},{value:[6,5,30,10,10],name:this.classNameRight,areaStyle:{color:"rgba(255, 228, 52, 0.6)"},label:{show:!0,color:"red",offset:[0,6],formatter:function(e){return e.value+"个"}}}]}]};this.chart.hideLoading(),this.chart.setOption(t,!0)}},computed:Object(s.a)({},Object(r.b)(["userInfo","termOptions"]))},g={name:"dashboard",components:{TestAverage:d,ClassCompare:Object(m.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-full"},[a("div",{staticClass:"h-14 pb-2 flex justify-start items-center"},[a("span",{staticClass:"pl-2"},[e._v("学期：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.termChange},model:{value:e.term,callback:function(t){e.term=t},expression:"term"}},[e._l(e.termOptions,(function(t){return[a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("班级：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.classChangeLeft},model:{value:e.classNameLeft,callback:function(t){e.classNameLeft=t},expression:"classNameLeft"}},[e._l(e.classList,(function(t){return[a("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("测试：")]),a("a-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择测试内容"},on:{change:e.testNameChangeLeft},model:{value:e.testNameLeft,callback:function(t){e.testNameLeft=t},expression:"testNameLeft"}},[e._l(e.testNames,(function(t){return[a("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])]}))],2),a("span",{staticClass:"pl-2 pr-2 font-bold"},[e._v("比较")]),a("span",{staticClass:"pl-2"},[e._v("班级：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.classChangeRight},model:{value:e.classNameRight,callback:function(t){e.classNameRight=t},expression:"classNameRight"}},[e._l(e.classList,(function(t){return[a("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("测试：")]),a("a-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择测试内容"},on:{change:e.testNameChangeRight},model:{value:e.testNameRight,callback:function(t){e.testNameRight=t},expression:"testNameRight"}},[e._l(e.testNamesRight,(function(t){return[a("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])]}))],2)],1),a("div",{staticClass:"w-full h-96",attrs:{id:"class-compare"}})])}),[],!1,null,"aa9af3e8",null).exports},data:function(){return{term:"",className:"",classList:[],section2Term:"",section2ClassName:"",section2ClassList:[],section2TestName:"",section2TestNameList:[],section3Term:"",section3ClassName:"",section3ClassList:[],studentName:"",studentList:[],overviewChart:null,singleTestChart:null,singleStudentTestChart:null}},created:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;this.term="".concat(t,"-").concat(a<9?"上":"下","半学期"),this.section2Term="".concat(t,"-").concat(a<9?"上":"下","半学期"),this.section3Term="".concat(t,"-").concat(a<9?"上":"下","半学期")},mounted:function(){var e=this;this.$nextTick(Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.overviewChart=i.a(document.getElementById("overview")),e.singleTestChart=i.a(document.getElementById("single-test")),e.singleStudentTestChart=i.a(document.getElementById("single-student-test")),e.overviewChart.showLoading({text:"正在加载..."}),e.singleTestChart.showLoading({text:"正在加载..."}),e.singleStudentTestChart.showLoading({text:"正在加载..."}),t.next=8,e.loadClassList(e.term);case 8:return a=t.sent,e.classList=a,e.section2ClassList=a,e.section3ClassList=a,a.length>0?(e.className=a[0].cea_class_name,e.section2ClassName=a[0].cea_class_name,e.section3ClassName=a[0].cea_class_name):(e.className="该学期暂无班级",e.section2ClassName="该学期暂无班级",e.section3ClassName="该学期暂无班级"),t.next=15,e.loadOverviewData(e.term,e.className);case 15:return s=t.sent,e.section2TestNameList=s.testNames,e.section2TestNameList.length>0?e.section2TestName=e.section2TestNameList[0]:e.section2TestName="暂无考试内容",e.studentList=s.studentNames,e.studentList.length>0?e.studentName=e.studentList[0]:e.studentName="暂无学生",e.setOverviewOption(s),t.next=23,e.loadSingleTestData(e.section2Term,e.section2ClassName,e.section2TestName);case 23:return n=t.sent,e.setSingleTestOption(n),t.next=27,e.loadSingleStudentTestData(e.section3Term,e.section3ClassName,e.studentName);case 27:r=t.sent,e.setSingleStudentTestOption(r);case 29:case"end":return t.stop()}}),t)}))))},methods:{loadClassList:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.b)(t.userInfo.ceaTeacherId,e);case 2:return s=a.sent,a.abrupt("return",s);case 4:case"end":return a.stop()}}),a)})))()},loadOverviewData:function(e,t){var a=this;return Object(n.a)(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={term:e,className:t,kind:"数学"},s.next=3,c(n,a.userInfo.ceaTeacherId);case 3:return r=s.sent,s.abrupt("return",r);case 5:case"end":return s.stop()}}),s)})))()},handleTermChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadClassList(e.term);case 2:return a=t.sent,e.classList=a,e.classList.length>0?e.className=e.classList[0].cea_class_name:e.className="该学期暂无班级",e.overviewChart.showLoading({text:"正在加载..."}),t.next=8,e.loadOverviewData(e.term,e.className);case 8:s=t.sent,e.setOverviewOption(s);case 10:case"end":return t.stop()}}),t)})))()},setOverviewOption:function(e){this.overviewChart.config={rotate:90,align:"left",verticalAlign:"middle",position:"insideBottom",distance:15};var t={show:!0,position:"insideBottom",distance:15,align:"left",verticalAlign:"middle",rotate:90,formatter:"{c}  {name|{a}}",fontSize:16,rich:{name:{}}},a={title:{text:"总览"},tooltip:{trigger:"axis",position:function(e,t,a,s,n){return{left:e[0]+50,top:"10%"}},axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",zoomLock:!1,start:0,end:12,xAxisIndex:0}],legend:{data:[]},toolbox:{show:!0,showTitle:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},data:e.studentNames}],yAxis:[{type:"value"}],series:[]};e.testNames.length<=0?a.legend.data=["暂无数据"]:a.legend.data=e.testNames,e.studentNames.length<=0?a.xAxis[0].data=["暂无数据"]:a.xAxis[0].data=e.studentNames;for(var s=[],n=0;n<e.testNames.length;n++){var r=e.testNames[n];s.push({name:r,type:"bar",barGap:0,label:t,emphasis:{focus:"series"},data:e[r]})}s.push({name:"均分",type:"line",label:{show:!0,position:"insideBottom",distance:15,align:"left",verticalAlign:"middle",formatter:"{name|{a}}:{c}",color:"red",fontWeight:"bold",fontSize:16,rich:{name:{}}},lineStyle:{color:"red"},emphasis:{focus:"series"},data:e["平均分"]}),a.series=s,this.overviewChart.hideLoading(),this.overviewChart.setOption(a,!0)},handleClassChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.overviewChart.showLoading({text:"正在加载..."}),t.next=3,e.loadOverviewData(e.term,e.className);case 3:a=t.sent,e.setOverviewOption(a);case 5:case"end":return t.stop()}}),t)})))()},loadSingleTestData:function(e,t,a){var s=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={term:e,className:t,kind:"数学",testName:a},n.next=3,i=r,c=s.userInfo.ceaTeacherId,l=void 0,l="".concat("http://channingkuo.synology.me:9001","/score/chart/single/test/").concat(c),o.a.httpfire.post(l,i);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}var i,c,l}),n)})))()},section2TermChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singleTestChart.showLoading({text:"正在加载..."}),t.next=3,e.loadClassList(e.section2Term);case 3:return a=t.sent,e.section2ClassList=a,e.section2ClassList.length>0?e.section2ClassName=e.section2ClassList[0].cea_class_name:e.section2ClassName="该学期暂无班级",t.next=8,e.loadOverviewData(e.section2Term,e.section2ClassName);case 8:return s=t.sent,e.section2TestNameList=s.testNames,e.section2TestNameList.length>0?e.section2TestName=e.section2TestNameList[0]:e.section2TestName="暂无考试内容",t.next=13,e.loadSingleTestData(e.section2Term,e.section2ClassName,e.section2TestName);case 13:n=t.sent,(r=e.singleTestChart.getOption()).series[0].data=n.scoreList,r.series[0].name=e.section2TestName,r.series[0].markLine.data[0].yAxis=n.min||0,r.series[0].markLine.data[1].yAxis=n.avg,r.series[0].markLine.data[2].yAxis=n.max||0,r.xAxis[0].data=n.studentList,e.singleTestChart.hideLoading(),e.singleTestChart.setOption(r);case 23:case"end":return t.stop()}}),t)})))()},section2ClassChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singleTestChart.showLoading({text:"正在加载..."}),t.next=3,e.loadOverviewData(e.section2Term,e.section2ClassName);case 3:return a=t.sent,e.section2TestNameList=a.testNames,e.section2TestNameList.length>0?e.section2TestName=e.section2TestNameList[0]:e.section2TestName="暂无考试内容",t.next=8,e.loadSingleTestData(e.section2Term,e.section2ClassName,e.section2TestName);case 8:s=t.sent,(n=e.singleTestChart.getOption()).series[0].data=s.scoreList,n.series[0].name=e.section2TestName,n.series[0].markLine.data[0].yAxis=s.min||0,n.series[0].markLine.data[1].yAxis=s.avg,n.series[0].markLine.data[2].yAxis=s.max||0,n.xAxis[0].data=s.studentList,e.singleTestChart.hideLoading(),e.singleTestChart.setOption(n);case 18:case"end":return t.stop()}}),t)})))()},section2TestChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadSingleTestData(e.section2Term,e.section2ClassName,e.section2TestName);case 2:a=t.sent,(s=e.singleTestChart.getOption()).series[0].data=a.scoreList,s.series[0].name=e.section2TestName,s.series[0].markLine.data[0].yAxis=a.min||0,s.series[0].markLine.data[1].yAxis=a.avg,s.series[0].markLine.data[2].yAxis=a.max||0,s.xAxis[0].data=a.studentList,e.singleTestChart.setOption(s);case 11:case"end":return t.stop()}}),t)})))()},onSortTestScore:function(){var e=this.singleTestChart.getOption();e.series[0].realtimeSort=!0,this.singleTestChart.setOption(e)},setSingleTestOption:function(e){this.singleTestChart.config={rotate:90,align:"left",verticalAlign:"middle",position:"insideBottom",distance:15};var t={title:{text:"考试成绩"},tooltip:{trigger:"axis",position:function(e,t,a,s,n){return{left:e[0]+50,top:"10%"}},axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",zoomLock:!1,orient:"vertical",right:60,start:0,end:100,xAxisIndex:0}],legend:{data:[]},toolbox:{show:!0,showTitle:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},axisLabel:{formatter:function(e,t){return e.split("").join("\n")}},data:e.studentList}],yAxis:[{type:"value"}],series:[{name:this.section2TestName,type:"bar",barGap:0,label:{show:!0,position:"insideBottom",distance:15,verticalAlign:"middle",fontWeight:"bold",fontSize:16,valueAnimation:!0},emphasis:{focus:"series"},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},data:e.scoreList,markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c}"},lineStyle:{color:"red"},data:[{name:"最低分",yAxis:e.min||0},{name:"平均分",yAxis:e.avg},{name:"最高分",yAxis:e.max||0}]}}]};this.singleTestChart.hideLoading(),this.singleTestChart.setOption(t,!0)},loadSingleStudentTestData:function(e,t,a){var s=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={term:e,className:t,kind:"数学",name:a},n.next=3,c=r,l=s.userInfo.ceaTeacherId,u=void 0,u="".concat("http://channingkuo.synology.me:9001","/score/chart/single/student/test/").concat(l),o.a.httpfire.post(u,c);case 3:return i=n.sent,n.abrupt("return",i);case 5:case"end":return n.stop()}var c,l,u}),n)})))()},section3TermChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singleStudentTestChart.showLoading({text:"正在加载..."}),t.next=3,e.loadClassList(e.section3Term);case 3:return a=t.sent,e.section3ClassList=a,e.section3ClassList.length>0?e.section3ClassName=e.section3ClassList[0].cea_class_name:e.section3ClassName="该学期暂无班级",t.next=8,e.loadOverviewData(e.section3Term,e.section3ClassName);case 8:return s=t.sent,e.studentList=s.studentNames,e.studentList.length>0?e.studentName=e.studentList[0]:e.studentName="暂无学生",t.next=13,e.loadSingleStudentTestData(e.section3Term,e.section3ClassName,e.studentName);case 13:n=t.sent,(r=e.singleStudentTestChart.getOption()).series[0].data=n.scoreList,r.series[0].name=e.studentName,r.series[0].markLine.data[0].yAxis=n.min||0,r.series[0].markLine.data[1].yAxis=n.avg,r.series[0].markLine.data[2].yAxis=n.max||0,r.xAxis[0].data=n.testNames,r.xAxis[0].axisLabel={rotate:30},e.singleStudentTestChart.hideLoading(),e.singleStudentTestChart.setOption(r);case 24:case"end":return t.stop()}}),t)})))()},section3ClassChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singleStudentTestChart.showLoading({text:"正在加载..."}),t.next=3,e.loadOverviewData(e.section3Term,e.section3ClassName);case 3:return a=t.sent,e.studentList=a.studentNames,e.studentList.length>0?e.studentName=e.studentList[0]:e.studentName="暂无学生",t.next=8,e.loadSingleStudentTestData(e.section3Term,e.section3ClassName,e.studentName);case 8:s=t.sent,(n=e.singleTestChart.getOption()).series[0].data=s.scoreList,n.series[0].name=e.studentName,n.series[0].markLine.data[0].yAxis=s.min||0,n.series[0].markLine.data[1].yAxis=s.avg,n.series[0].markLine.data[2].yAxis=s.max||0,n.xAxis[0].data=s.testNames,n.xAxis[0].axisLabel={rotate:30},e.singleStudentTestChart.hideLoading(),e.singleStudentTestChart.setOption(n);case 19:case"end":return t.stop()}}),t)})))()},section3StudentChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadSingleStudentTestData(e.section2Term,e.section2ClassName,e.studentName);case 2:a=t.sent,(s=e.singleTestChart.getOption()).series[0].data=a.scoreList,s.series[0].name=e.studentName,s.series[0].markLine.data[0].yAxis=a.min||0,s.series[0].markLine.data[1].yAxis=a.avg,s.series[0].markLine.data[2].yAxis=a.max||0,s.xAxis[0].data=a.testNames,s.xAxis[0].axisLabel={rotate:30},e.singleStudentTestChart.hideLoading(),e.singleStudentTestChart.setOption(s);case 13:case"end":return t.stop()}}),t)})))()},setSingleStudentTestOption:function(e){var t={title:{text:"学生成绩"},tooltip:{trigger:"axis",position:function(e,t,a,s,n){return{left:e[0]+50,top:"10%"}},axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",zoomLock:!1,orient:"vertical",right:60,start:0,end:100,xAxisIndex:0}],legend:{data:[]},toolbox:{show:!0,showTitle:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},axisLabel:{rotate:10},data:e.testNames}],yAxis:[{type:"value"}],series:[{name:this.studentName,type:"bar",barGap:0,label:{show:!0,position:"insideBottom",distance:15,verticalAlign:"middle",fontWeight:"bold",fontSize:16},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},emphasis:{focus:"series"},data:e.scoreList,markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c}"},lineStyle:{color:"red"},data:[{name:"最低分",yAxis:e.min},{name:"平均分",yAxis:e.avg},{name:"最高分",yAxis:e.max}]}}]};this.singleStudentTestChart.hideLoading(),this.singleStudentTestChart.setOption(t,!0)}},computed:Object(s.a)({},Object(r.b)(["userInfo","termOptions"]))},p=(a("6d89"),Object(m.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"h-14 pb-2 flex justify-start items-center"},[a("span",{staticClass:"pl-2"},[e._v("学期：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.handleTermChange},model:{value:e.term,callback:function(t){e.term=t},expression:"term"}},[e._l(e.termOptions,(function(t){return[a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("班级：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.handleClassChange},model:{value:e.className,callback:function(t){e.className=t},expression:"className"}},[e._l(e.classList,(function(t){return[a("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2)],1),a("div",{staticClass:"w-full h-96",attrs:{id:"overview"}}),a("div",{staticClass:"h-14 pb-2 flex justify-start items-center"},[a("span",{staticClass:"pl-2"},[e._v("学期：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.section2TermChange},model:{value:e.section2Term,callback:function(t){e.section2Term=t},expression:"section2Term"}},[e._l(e.termOptions,(function(t){return[a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("班级：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.section2ClassChange},model:{value:e.section2ClassName,callback:function(t){e.section2ClassName=t},expression:"section2ClassName"}},[e._l(e.section2ClassList,(function(t){return[a("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("考试内容：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.section2TestChange},model:{value:e.section2TestName,callback:function(t){e.section2TestName=t},expression:"section2TestName"}},[e._l(e.section2TestNameList,(function(t){return[a("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])]}))],2),a("a-tooltip",{attrs:{placement:"top",title:"由高到低排序"}},[a("a-icon",{staticClass:"size-change m-5",attrs:{type:"sort-ascending"},on:{click:e.onSortTestScore}})],1)],1),a("div",{staticClass:"w-full h-96",attrs:{id:"single-test"}}),a("div",{staticClass:"h-14 pb-2 flex justify-start items-center"},[a("span",{staticClass:"pl-2"},[e._v("学期：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.section3TermChange},model:{value:e.section3Term,callback:function(t){e.section3Term=t},expression:"section3Term"}},[e._l(e.termOptions,(function(t){return[a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("班级：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.section3ClassChange},model:{value:e.section3ClassName,callback:function(t){e.section3ClassName=t},expression:"section3ClassName"}},[e._l(e.section3ClassList,(function(t){return[a("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2),a("span",{staticClass:"pl-2"},[e._v("学生：")]),a("a-select",{staticStyle:{width:"140px"},on:{change:e.section3StudentChange},model:{value:e.studentName,callback:function(t){e.studentName=t},expression:"studentName"}},[e._l(e.studentList,(function(t){return[a("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])]}))],2)],1),a("div",{staticClass:"w-full h-96",attrs:{id:"single-student-test"}}),a("test-average"),a("class-compare"),a("div",{staticClass:"h-20"})],1)}),[],!1,null,"b1452c78",null));t.default=p.exports}}]);