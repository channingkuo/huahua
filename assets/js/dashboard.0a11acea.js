(window.webpackJsonp=window.webpackJsonp||[]).push([["dashboard"],{"01d0":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l}));n("99af");var a=n("2b0e");function s(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/student/list");return a.a.httpfire.post(t,e)}function r(e,t){var n="".concat("http://channingkuo.synology.me:9001","/teacher/term/class/list/").concat(e,"/").concat(t);return a.a.httpfire.post(n)}function i(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/toggle/").concat(e);return a.a.httpfire.post(t)}function o(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/new");return a.a.httpfire.post(t,e)}function c(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/delete/").concat(e);return a.a.httpfire.post(t)}function l(e){var t="".concat("http://channingkuo.synology.me:9001","/teacher/term/save");return a.a.httpfire.post(t,e)}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("d3b7");function a(e,t,n,a,s,r,i){try{var o=e[r](i),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(a,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){a(i,s,r,o,c,"next",e)}function c(e){a(i,s,r,o,c,"throw",e)}o(void 0)}))}}},"1e0a":function(e,t,n){var a=n("cb38");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("499e").default)("e7258960",a,!0,{sourceMap:!1,shadowMode:!1})},"96cf":function(e,t,n){var a=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var s=t&&t.prototype instanceof d?t:d,r=Object.create(s.prototype),i=new T(a||[]);return r._invoke=function(e,t,n){var a="suspendedStart";return function(s,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===s)throw r;return N()}for(n.method=s,n.arg=r;;){var i=n.delegate;if(i){var o=w(i,n);if(o){if(o===u)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=l(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),r}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function d(){}function h(){}function m(){}var f={};f[s]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(C([])));g&&g!==t&&n.call(g,s)&&(f=g);var v=m.prototype=d.prototype=Object.create(f);function x(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;this._invoke=function(s,r){function i(){return new t((function(a,i){!function a(s,r,i,o){var c=l(e[s],e,r);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,o)}),(function(e){a("throw",e,i,o)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,o)}))}o(c.arg)}(s,r,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var s=a.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=v.constructor=m,m.constructor=h,h.displayName=o(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,o(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},x(y.prototype),y.prototype[r]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,a,s,r){void 0===r&&(r=Promise);var i=new y(c(t,n,a,s),r);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(v),o(v,i,"Generator"),v[s]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],i=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var o=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(o&&c){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var s=a.arg;L(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=a}catch(e){Function("r","regeneratorRuntime = r")(a)}},"99af":function(e,t,n){"use strict";var a=n("23e7"),s=n("d039"),r=n("e8b5"),i=n("861d"),o=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),h=n("b622"),m=n("2d00"),f=h("isConcatSpreadable"),p=m>=51||!s((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=d("concat"),v=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)};a({target:"Array",proto:!0,forced:!p||!g},{concat:function(e){var t,n,a,s,r,i=o(this),d=u(i,0),h=0;for(t=-1,a=arguments.length;t<a;t++)if(v(r=-1===t?i:arguments[t])){if(h+(s=c(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<s;n++,h++)n in r&&l(d,h,r[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,h++,r)}return d.length=h,d}})},b7b4:function(e,t,n){"use strict";n.r(t);var a=n("5530"),s=n("1da1"),r=(n("96cf"),n("99af"),n("b0c0"),n("2f62")),i=n("313e"),o=n("2b0e");var c=n("01d0"),l={name:"dashboard",components:{},data:function(){return{term:"",className:"",classList:[],section2Term:"",section2ClassName:"",section2ClassList:[],section2TestName:"",section2TestNameList:[],section3Term:"",section3ClassName:"",section3ClassList:[],studentName:"",studentList:[],overviewChart:null,singleTestChart:null,singleStudentTestChart:null}},created:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;this.term="".concat(t,"-").concat(n<9?"上":"下","半学期"),this.section2Term="".concat(t,"-").concat(n<9?"上":"下","半学期"),this.section3Term="".concat(t,"-").concat(n<9?"上":"下","半学期")},mounted:function(){var e=this;this.$nextTick(Object(s.a)(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.overviewChart=i.a(document.getElementById("overview")),e.singleTestChart=i.a(document.getElementById("single-test")),e.singleStudentTestChart=i.a(document.getElementById("single-student-test")),e.overviewChart.showLoading({text:"正在加载..."}),e.singleTestChart.showLoading({text:"正在加载..."}),e.singleStudentTestChart.showLoading({text:"正在加载..."}),t.next=8,e.loadClassList(e.term);case 8:return n=t.sent,e.classList=n,e.section2ClassList=n,e.section3ClassList=n,n.length>0?(e.className=n[0].cea_class_name,e.section2ClassName=n[0].cea_class_name,e.section3ClassName=n[0].cea_class_name):(e.className="该学期暂无班级",e.section2ClassName="该学期暂无班级",e.section3ClassName="该学期暂无班级"),t.next=15,e.loadOverviewData(e.term,e.className);case 15:return a=t.sent,e.section2TestNameList=a.testNames,e.section2TestNameList.length>0?e.section2TestName=e.section2TestNameList[0]:e.section2TestName="暂无考试内容",e.studentList=a.studentNames,e.studentList.length>0?e.studentName=e.studentList[0]:e.studentName="暂无学生",e.setOverviewOption(a),t.next=23,e.loadSingleTestData(e.section2Term,e.section2ClassName,e.section2TestName);case 23:return s=t.sent,e.setSingleTestOption(s),t.next=27,e.loadSingleStudentTestData(e.section3Term,e.section3ClassName,e.studentName);case 27:r=t.sent,e.setSingleStudentTestOption(r);case 29:case"end":return t.stop()}}),t)}))))},methods:{loadClassList:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.b)(t.userInfo.ceaTeacherId,e);case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})))()},loadOverviewData:function(e,t){var n=this;return Object(s.a)(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={term:e,className:t,kind:"数学"},a.next=3,i=s,c=n.userInfo.ceaTeacherId,l=void 0,l="".concat("http://channingkuo.synology.me:9001","/score/chart/overview/").concat(c),o.a.httpfire.post(l,i);case 3:return r=a.sent,a.abrupt("return",r);case 5:case"end":return a.stop()}var i,c,l}),a)})))()},handleTermChange:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadClassList(e.term);case 2:return n=t.sent,e.classList=n,e.classList.length>0?e.className=e.classList[0].cea_class_name:e.className="该学期暂无班级",e.overviewChart.showLoading({text:"正在加载..."}),t.next=8,e.loadOverviewData(e.term,e.className);case 8:a=t.sent,e.setOverviewOption(a);case 10:case"end":return t.stop()}}),t)})))()},setOverviewOption:function(e){this.overviewChart.config={rotate:90,align:"left",verticalAlign:"middle",position:"insideBottom",distance:15};var t={show:!0,position:"insideBottom",distance:15,align:"left",verticalAlign:"middle",rotate:90,formatter:"{c}  {name|{a}}",fontSize:16,rich:{name:{}}},n={title:{text:"总览"},tooltip:{trigger:"axis",position:function(e,t,n,a,s){return{left:e[0]+50,top:"10%"}},axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",zoomLock:!1,start:0,end:12,xAxisIndex:0}],legend:{data:[]},toolbox:{show:!0,showTitle:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},data:e.studentNames}],yAxis:[{type:"value"}],series:[]};e.testNames.length<=0?n.legend.data=["暂无数据"]:n.legend.data=e.testNames,e.studentNames.length<=0?n.xAxis[0].data=["暂无数据"]:n.xAxis[0].data=e.studentNames;for(var a=[],s=0;s<e.testNames.length;s++){var r=e.testNames[s];a.push({name:r,type:"bar",barGap:0,label:t,emphasis:{focus:"series"},data:e[r]})}a.push({name:"平均分",type:"line",label:{show:!0,position:"insideBottom",distance:15,align:"left",verticalAlign:"middle",formatter:"{c}  {name|{a}}",color:"red",fontWeight:"bold",fontSize:20,rich:{name:{}}},lineStyle:{color:"red"},emphasis:{focus:"series"},data:e["平均分"]}),n.series=a,this.overviewChart.hideLoading(),this.overviewChart.setOption(n,!0)},handleClassChange:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.overviewChart.showLoading({text:"正在加载..."}),t.next=3,e.loadOverviewData(e.term,e.className);case 3:n=t.sent,e.setOverviewOption(n);case 5:case"end":return t.stop()}}),t)})))()},loadSingleTestData:function(e,t,n){var a=this;return Object(s.a)(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r={term:e,className:t,kind:"数学",testName:n},s.next=3,i=r,c=a.userInfo.ceaTeacherId,l=void 0,l="".concat("http://channingkuo.synology.me:9001","/score/chart/single/test/").concat(c),o.a.httpfire.post(l,i);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}var i,c,l}),s)})))()},section2TermChange:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singleTestChart.showLoading({text:"正在加载..."}),t.next=3,e.loadClassList(e.section2Term);case 3:return n=t.sent,e.section2ClassList=n,e.section2ClassList.length>0?e.section2ClassName=e.section2ClassList[0].cea_class_name:e.section2ClassName="该学期暂无班级",t.next=8,e.loadOverviewData(e.section2Term,e.section2ClassName);case 8:return a=t.sent,e.section2TestNameList=a.testNames,e.section2TestNameList.length>0?e.section2TestName=e.section2TestNameList[0]:e.section2TestName="暂无考试内容",t.next=13,e.loadSingleTestData(e.section2Term,e.section2ClassName,e.section2TestName);case 13:s=t.sent,(r=e.singleTestChart.getOption()).series[0].data=s.scoreList,r.series[0].name=e.section2TestName,r.series[0].markLine.data[0].yAxis=s.min||0,r.series[0].markLine.data[1].yAxis=s.avg,r.series[0].markLine.data[2].yAxis=s.max||0,r.xAxis[0].data=s.studentList,e.singleTestChart.hideLoading(),e.singleTestChart.setOption(r);case 23:case"end":return t.stop()}}),t)})))()},section2ClassChange:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singleTestChart.showLoading({text:"正在加载..."}),t.next=3,e.loadOverviewData(e.section2Term,e.section2ClassName);case 3:return n=t.sent,e.section2TestNameList=n.testNames,e.section2TestNameList.length>0?e.section2TestName=e.section2TestNameList[0]:e.section2TestName="暂无考试内容",t.next=8,e.loadSingleTestData(e.section2Term,e.section2ClassName,e.section2TestName);case 8:a=t.sent,(s=e.singleTestChart.getOption()).series[0].data=a.scoreList,s.series[0].name=e.section2TestName,s.series[0].markLine.data[0].yAxis=a.min||0,s.series[0].markLine.data[1].yAxis=a.avg,s.series[0].markLine.data[2].yAxis=a.max||0,s.xAxis[0].data=a.studentList,e.singleTestChart.hideLoading(),e.singleTestChart.setOption(s);case 18:case"end":return t.stop()}}),t)})))()},section2TestChange:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadSingleTestData(e.section2Term,e.section2ClassName,e.section2TestName);case 2:n=t.sent,(a=e.singleTestChart.getOption()).series[0].data=n.scoreList,a.series[0].name=e.section2TestName,a.series[0].markLine.data[0].yAxis=n.min||0,a.series[0].markLine.data[1].yAxis=n.avg,a.series[0].markLine.data[2].yAxis=n.max||0,a.xAxis[0].data=n.studentList,e.singleTestChart.setOption(a);case 11:case"end":return t.stop()}}),t)})))()},onSortTestScore:function(){var e=this.singleTestChart.getOption();e.series[0].realtimeSort=!0,this.singleTestChart.setOption(e)},setSingleTestOption:function(e){this.singleTestChart.config={rotate:90,align:"left",verticalAlign:"middle",position:"insideBottom",distance:15};var t={title:{text:"考试成绩"},tooltip:{trigger:"axis",position:function(e,t,n,a,s){return{left:e[0]+50,top:"10%"}},axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",zoomLock:!1,orient:"vertical",right:60,start:0,end:100,xAxisIndex:0}],legend:{data:[]},toolbox:{show:!0,showTitle:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},axisLabel:{rotate:90},data:e.studentList}],yAxis:[{type:"value"}],series:[{name:this.section2TestName,type:"bar",barGap:0,label:{show:!0,position:"insideBottom",distance:15,verticalAlign:"middle",fontWeight:"bold",fontSize:16,valueAnimation:!0},emphasis:{focus:"series"},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},data:e.scoreList,markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c}"},lineStyle:{color:"red"},data:[{name:"最低分",yAxis:e.min||0},{name:"平均分",yAxis:e.avg},{name:"最高分",yAxis:e.max||0}]}}]};this.singleTestChart.hideLoading(),this.singleTestChart.setOption(t,!0)},loadSingleStudentTestData:function(e,t,n){var a=this;return Object(s.a)(regeneratorRuntime.mark((function s(){var r,i;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r={term:e,className:t,kind:"数学",name:n},s.next=3,c=r,l=a.userInfo.ceaTeacherId,u=void 0,u="".concat("http://channingkuo.synology.me:9001","/score/chart/single/student/test/").concat(l),o.a.httpfire.post(u,c);case 3:return i=s.sent,s.abrupt("return",i);case 5:case"end":return s.stop()}var c,l,u}),s)})))()},section3TermChange:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singleStudentTestChart.showLoading({text:"正在加载..."}),t.next=3,e.loadClassList(e.section3Term);case 3:return n=t.sent,e.section3ClassList=n,e.section3ClassList.length>0?e.section3ClassName=e.section3ClassList[0].cea_class_name:e.section3ClassName="该学期暂无班级",t.next=8,e.loadOverviewData(e.section3Term,e.section3ClassName);case 8:return a=t.sent,e.studentList=a.studentNames,e.studentList.length>0?e.studentName=e.studentList[0]:e.studentName="暂无学生",t.next=13,e.loadSingleStudentTestData(e.section3Term,e.section3ClassName,e.studentName);case 13:s=t.sent,(r=e.singleStudentTestChart.getOption()).series[0].data=s.scoreList,r.series[0].name=e.studentName,r.series[0].markLine.data[0].yAxis=s.min||0,r.series[0].markLine.data[1].yAxis=s.avg,r.series[0].markLine.data[2].yAxis=s.max||0,r.xAxis[0].data=s.testNames,r.xAxis[0].axisLabel={rotate:30},e.singleStudentTestChart.hideLoading(),e.singleStudentTestChart.setOption(r);case 24:case"end":return t.stop()}}),t)})))()},section3ClassChange:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singleStudentTestChart.showLoading({text:"正在加载..."}),t.next=3,e.loadOverviewData(e.section3Term,e.section3ClassName);case 3:return n=t.sent,e.studentList=n.studentNames,e.studentList.length>0?e.studentName=e.studentList[0]:e.studentName="暂无学生",t.next=8,e.loadSingleStudentTestData(e.section3Term,e.section3ClassName,e.studentName);case 8:a=t.sent,(s=e.singleTestChart.getOption()).series[0].data=a.scoreList,s.series[0].name=e.studentName,s.series[0].markLine.data[0].yAxis=a.min||0,s.series[0].markLine.data[1].yAxis=a.avg,s.series[0].markLine.data[2].yAxis=a.max||0,s.xAxis[0].data=a.testNames,s.xAxis[0].axisLabel={rotate:30},e.singleStudentTestChart.hideLoading(),e.singleStudentTestChart.setOption(s);case 19:case"end":return t.stop()}}),t)})))()},section3StudentChange:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadSingleStudentTestData(e.section2Term,e.section2ClassName,e.studentName);case 2:n=t.sent,(a=e.singleTestChart.getOption()).series[0].data=n.scoreList,a.series[0].name=e.studentName,a.series[0].markLine.data[0].yAxis=n.min||0,a.series[0].markLine.data[1].yAxis=n.avg,a.series[0].markLine.data[2].yAxis=n.max||0,a.xAxis[0].data=n.testNames,a.xAxis[0].axisLabel={rotate:30},e.singleStudentTestChart.hideLoading(),e.singleStudentTestChart.setOption(a);case 13:case"end":return t.stop()}}),t)})))()},setSingleStudentTestOption:function(e){var t={title:{},tooltip:{trigger:"axis",position:function(e,t,n,a,s){return{left:e[0]+50,top:"10%"}},axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",zoomLock:!1,orient:"vertical",right:60,start:0,end:100,xAxisIndex:0}],legend:{data:[]},toolbox:{show:!0,showTitle:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},axisLabel:{rotate:30},data:e.testNames}],yAxis:[{type:"value"}],series:[{name:this.studentName,type:"bar",barGap:0,label:{show:!0,position:"insideBottom",distance:15,verticalAlign:"middle",fontWeight:"bold",fontSize:16},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},emphasis:{focus:"series"},data:e.scoreList,markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c}"},lineStyle:{color:"red"},data:[{name:"最低分",yAxis:e.min},{name:"平均分",yAxis:e.avg},{name:"最高分",yAxis:e.max}]}}]};this.singleStudentTestChart.hideLoading(),this.singleStudentTestChart.setOption(t,!0)}},computed:Object(a.a)({},Object(r.b)(["userInfo","termOptions"]))},u=(n("e418"),n("2877")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard"},[n("div",{staticClass:"h-14 pb-2 flex justify-start items-center"},[n("span",{staticClass:"pl-2"},[e._v("学期：")]),n("a-select",{staticStyle:{width:"140px"},on:{change:e.handleTermChange},model:{value:e.term,callback:function(t){e.term=t},expression:"term"}},[e._l(e.termOptions,(function(t){return[n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2),n("span",{staticClass:"pl-2"},[e._v("班级：")]),n("a-select",{staticStyle:{width:"140px"},on:{change:e.handleClassChange},model:{value:e.className,callback:function(t){e.className=t},expression:"className"}},[e._l(e.classList,(function(t){return[n("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2)],1),n("div",{staticClass:"w-full h-96",attrs:{id:"overview"}}),n("div",{staticClass:"h-14 pb-2 flex justify-start items-center"},[n("span",{staticClass:"pl-2"},[e._v("学期：")]),n("a-select",{staticStyle:{width:"140px"},on:{change:e.section2TermChange},model:{value:e.section2Term,callback:function(t){e.section2Term=t},expression:"section2Term"}},[e._l(e.termOptions,(function(t){return[n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2),n("span",{staticClass:"pl-2"},[e._v("班级：")]),n("a-select",{staticStyle:{width:"140px"},on:{change:e.section2ClassChange},model:{value:e.section2ClassName,callback:function(t){e.section2ClassName=t},expression:"section2ClassName"}},[e._l(e.section2ClassList,(function(t){return[n("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2),n("span",{staticClass:"pl-2"},[e._v("考试内容：")]),n("a-select",{staticStyle:{width:"140px"},on:{change:e.section2TestChange},model:{value:e.section2TestName,callback:function(t){e.section2TestName=t},expression:"section2TestName"}},[e._l(e.section2TestNameList,(function(t){return[n("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])]}))],2),n("a-tooltip",{attrs:{placement:"top",title:"由高到低排序"}},[n("a-icon",{staticClass:"size-change m-5",attrs:{type:"sort-ascending"},on:{click:e.onSortTestScore}})],1)],1),n("div",{staticClass:"w-full h-96",attrs:{id:"single-test"}}),n("div",{staticClass:"h-14 pb-2 flex justify-start items-center"},[n("span",{staticClass:"pl-2"},[e._v("学期：")]),n("a-select",{staticStyle:{width:"140px"},on:{change:e.section3TermChange},model:{value:e.section3Term,callback:function(t){e.section3Term=t},expression:"section3Term"}},[e._l(e.termOptions,(function(t){return[n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2),n("span",{staticClass:"pl-2"},[e._v("班级：")]),n("a-select",{staticStyle:{width:"140px"},on:{change:e.section3ClassChange},model:{value:e.section3ClassName,callback:function(t){e.section3ClassName=t},expression:"section3ClassName"}},[e._l(e.section3ClassList,(function(t){return[n("a-select-option",{key:t.cea_class_id,attrs:{value:t.cea_class_name}},[e._v(" "+e._s(t.cea_class_name)+" ")])]}))],2),n("span",{staticClass:"pl-2"},[e._v("学生：")]),n("a-select",{staticStyle:{width:"140px"},on:{change:e.section3StudentChange},model:{value:e.studentName,callback:function(t){e.studentName=t},expression:"studentName"}},[e._l(e.studentList,(function(t){return[n("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])]}))],2)],1),n("div",{staticClass:"w-full h-96",attrs:{id:"single-student-test"}}),n("div",{staticClass:"h-20"})])}),[],!1,null,"b65f4f7a",null);t.default=d.exports},cb38:function(e,t,n){(t=n("24fb")(!1)).push([e.i,".k-ant-page-header .ant-page-header-heading-extra[data-v-b65f4f7a]{float:unset}.k-table .ant-table-pagination[data-v-b65f4f7a]{float:left!important}.k-table .ant-table-thead>tr>th[data-v-b65f4f7a]{background-color:#fff!important}.huahua-drawer .ant-select-selection__clear[data-v-b65f4f7a]{margin-top:-8px}.single[data-v-b65f4f7a]{background-color:#fbfafa}.clock-full-screen .ant-modal-centered[data-v-b65f4f7a]{overflow-y:hidden}.windows[data-v-b65f4f7a] ::-webkit-scrollbar{width:6px;height:6px}.windows[data-v-b65f4f7a] ::-webkit-scrollbar-track{width:10px;background:rgba(145,146,146,.1);border-radius:2em}.windows[data-v-b65f4f7a] ::-webkit-scrollbar-thumb{background-color:rgba(145,146,146,.3);background-clip:padding-box;min-height:28px;border-radius:2em}.windows[data-v-b65f4f7a] ::-webkit-scrollbar-corner{border-radius:2em}.windows[data-v-b65f4f7a] ::-webkit-scrollbar-thumb:hover{background-color:#919292}.size-change[data-v-b65f4f7a]{font-size:20px;z-index:10000}.size-change[data-v-b65f4f7a]:hover{color:#1890ff;transform:scale(1.3);transition:transform .5s}",""]),e.exports=t},e418:function(e,t,n){"use strict";n("1e0a")}}]);